webpackJsonp([7],{680:function(e,t,n){var o,r;o=n(681);var a=n(725);r=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(r=o=o.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,e.exports=o},681:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(155),a=o(r),s=n(682),i=o(s),u=n(700),l=o(u),d=n(715),c=o(d);t.default={name:"Message",data:function(){var e={};return(0,a.default)(e,i.default,l.default,c.default),{models:e}},computed:{type:function(){return this.$route.params.model}},beforeRouteUpdate:function(e,t,n){this.$refs.basicModel.init(e.params.index),n()}}},682:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(683),a=o(r),s=n(687),i=o(s),u=n(690),l=o(u),d=n(693),c=o(d);t.default={org:[{key:"orgManage",tab:"机构管理",url:"org",searchPlaceholder:"请输入机构名称",typeComponent:[{component:a.default,params:{title:"机构类别管理",type:1}}],theads:["机构名称","机构类型","地址","邮编","固定电话","手机","传真","备注"],protos:["name","org_level","address","zipcode","phone","cellphone","fax","meno"],widths:[50,50,50,50,50,50,50,50],colComponent:{}}],crew:[{key:"expertManage",tab:"专家管理",url:"expert",searchPlaceholder:"请输入专家姓名",typeComponent:[{component:a.default,params:{title:"专家领域管理",type:2}}],theads:["姓名","专家领域","所属机构","关联账户","性别","学历","职责","职务","住址","邮编","单位","办公电话","宅电","手机","邮箱","备注"],protos:["name","expert_area","org_name","user_name","sex","degree","duty","title","address","zipcode","company","officephone","homephone","cellphone","email","meno"],widths:[50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50],colComponent:{sex:i.default,operation:c.default}},{key:"emergencyCrewManage",tab:"应急人员管理",url:"emergencycrew",searchPlaceholder:"请输入应急人员姓名",typeComponent:[{}],theads:["姓名","所属机构","关联账户","年龄","性别","职责","职务","固定电话","手机","邮箱","备注"],protos:["name","org_name","user_name","age","sex","duty","title","phone","cellphone","email","meno"],widths:[50,50,50,50,50,50,50,50,50,50,50],colComponent:{sex:i.default,operation:c.default}}],condition:[{key:"waningConditionManage",tab:"预警条件管理",url:"waningcondition",searchPlaceholder:"请输入预警条件名称",typeComponent:[{component:a.default,params:{title:"事件等级管理",type:5}},{component:a.default,params:{title:"事件类别管理",type:6}}],theads:["事件类型","条件编码","条件描述"],protos:["type","code","description"],widths:[50,80,100],colComponent:{type:l.default}}],command:[{key:"planManage",tab:"预案管理",url:"plan",searchPlaceholder:"请输入预案名称",typeComponent:[{component:a.default,params:{title:"预案类型管理",type:3}}],theads:["类型","名称","内容"],protos:["plan_type_name","name","content"],widths:[50,80,100],colComponent:{}},{key:"informationManage",tab:"专题知识管理",url:"information",searchPlaceholder:"请输入专题知识名称",typeComponent:[{component:a.default,params:{title:"专题知识类型管理",type:4}}],theads:["类型","名称","内容"],protos:["information_type_name","name","content"],widths:[50,80,100],colComponent:{}}]}},687:function(e,t,n){var o,r;o=n(688);var a=n(689);r=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(r=o=o.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,e.exports=o},688:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"Sex",props:{scope:{type:Object,required:!0,default:function(){return{}}}}}},689:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(e._s(1==e.scope.row.sex?"男":"女"))])},staticRenderFns:[]}},690:function(e,t,n){var o,r;o=n(691);var a=n(692);r=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(r=o=o.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,e.exports=o},691:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"Sex",props:{scope:{type:Object,required:!0,default:function(){return{}}}}}},692:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(e._s(1==e.scope.row.type?"预警事件":"突发事件"))])},staticRenderFns:[]}},693:function(e,t,n){var o,r;n(694),o=n(695);var a=n(699);r=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(r=o=o.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,r._scopeId="data-v-4adbcfdd",e.exports=o},694:function(e,t){},695:function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(154),a=o(r),s=n(103),i=n(696),u=o(i);t.default={name:"CrewHandle",props:{scope:{type:Object,required:!0,default:function(){return{}}},model:{type:Object,required:!0,default:function(){return{}}}},data:function(){return{users:[],selectUser:null,paginator:{current_page:0,total:0,per_page:0},userDialogTableVisible:!1,type:"",role:1}},components:{Edit:u.default},mounted:function(){"emergency_crew_created_at"in this.scope.row?(this.type="emergencycrew",this.role=2):(this.type="expert",this.role=1)},methods:(0,a.default)({},(0,s.mapMutations)(["setFormMsg"]),{bindUser:function(t){var n=this,o=(t.$index,t.row);this.userDialogTableVisible=!0,this.selectUser=o,e.get(this.$adminUrl("user/query?role="+this.role)).then(function(e){n.users=e.data.data,n.paginator=e.data})},handleUserSelectionChange:function(t){var n=this;e.post(this.$adminUrl(this.type+"/bindUser"),{id:this.selectUser.id,user_id:t.id}).then(function(e){n.$message({message:"绑定成功",type:"success"}),n.userDialogTableVisible=!1,n.selectUser.user_name=t.name,n.selectUser=null})},pageChange:function(t){var n=this;e.get(this.$adminUrl("user/query?page=")+t+"&role="+this.role).then(function(e){n.users=e.data.data,n.paginator=e.data})}})}}).call(t,n(112))},699:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("edit",{staticClass:"btns",attrs:{scope:e.scope,model:e.model}}),e._v(" "),n("div",{staticClass:"btns"},[n("el-button",{attrs:{size:"small"},on:{click:function(t){e.bindUser(e.scope)}}},[e._v("绑定用户")])],1),e._v(" "),n("el-dialog",{directives:[{name:"model",rawName:"v-model",value:e.userDialogTableVisible,expression:"userDialogTableVisible"}],attrs:{title:"绑定用户",size:"tiny"},domProps:{value:e.userDialogTableVisible},on:{input:function(t){e.userDialogTableVisible=t}}},[n("el-table",{attrs:{data:e.users,"highlight-current-row":""},on:{"row-click":e.handleUserSelectionChange}},[n("el-table-column",{attrs:{prop:"name",label:"用户名","show-overflow-tooltip":""}})],1),e._v(" "),n("el-pagination",{staticClass:"pagination",attrs:{small:"","current-page":e.paginator.current_page,"page-size":e.paginator.per_page,layout:"prev, pager, next",total:e.paginator.total},on:{"current-change":e.pageChange}}),e._v(" "),n("div",{staticClass:"dialog-footer",slot:"footer"},[n("el-button",{on:{click:function(t){e.userDialogTableVisible=!1}}},[e._v("返回")])],1)],1)],1)},staticRenderFns:[]}},700:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(683),a=(o(r),n(687)),s=(o(a),n(701)),i=o(s),u=n(704),l=o(u),d=n(711),c=o(d);t.default={"early-warning":[{key:"undoWarningManage",tab:"待处理事件",url:"event",urlParams:{status:1},searchPlaceholder:"请输入待处理事件名称",operateComponent:[{component:i.default,params:{status:1}}],hideAddButton:!0,typeComponent:[],theads:["事件等级","事件类别","事件名称","发生地区","事件详情"],protos:["event_level_name","event_sort_name","name","location","detail"],widths:[50,50,50,50,50],colComponent:{operation:l.default}},{key:"doingWarningManage",tab:"正处理事件",url:"event",urlParams:{status:2},searchPlaceholder:"请输入正处理事件名称",operateComponent:[],hideAddButton:!0,hideDeleteButton:!0,typeComponent:[],theads:["事件等级","事件类别","事件名称","发生地区","事件详情"],protos:["event_level_name","event_sort_name","name","location","detail"],widths:[50,50,50,50,50],colComponent:{operation:c.default}},{key:"doneWarningManage",tab:"已完成事件",url:"event",urlParams:{status:3},searchPlaceholder:"请输入已完成事件名称",operateComponent:[],hideAddButton:!0,hideDeleteButton:!0,typeComponent:[],theads:["事件等级","事件类别","事件名称","发生地区","事件详情"],protos:["event_level_name","event_sort_name","name","location","detail"],widths:[50,50,50,50,50],colComponent:{operation:c.default}}],emergency:[{key:"undoWarningManage",tab:"待处理事件",url:"event",urlParams:{status:4},searchPlaceholder:"请输入待处理事件名称",operateComponent:[{component:i.default,params:{status:4}}],hideAddButton:!0,typeComponent:[],theads:["事件等级","事件类别","事件名称","发生地区","事件详情"],protos:["event_level_name","event_sort_name","name","location","detail"],widths:[50,50,50,50,50],colComponent:{operation:l.default}},{key:"doingWarningManage",tab:"正处理事件",url:"event",urlParams:{status:5},searchPlaceholder:"请输入正处理事件名称",operateComponent:[],hideAddButton:!0,hideDeleteButton:!0,typeComponent:[],theads:["事件等级","事件类别","事件名称","发生地区","事件详情"],protos:["event_level_name","event_sort_name","name","location","detail"],widths:[50,50,50,50,50],colComponent:{operation:c.default}},{key:"doneWarningManage",tab:"已完成事件",url:"event",urlParams:{status:6},searchPlaceholder:"请输入已完成事件名称",operateComponent:[],hideAddButton:!0,hideDeleteButton:!0,typeComponent:[],theads:["事件等级","事件类别","事件名称","发生地区","事件详情"],protos:["event_level_name","event_sort_name","name","location","detail"],widths:[50,50,50,50,50],colComponent:{operation:c.default}}]}},701:function(e,t,n){var o,r;o=n(702);var a=n(703);r=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(r=o=o.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,e.exports=o},702:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"Add",props:{params:{type:Object,required:!0,default:function(){return{}}},model:{type:Object,required:!0,default:function(){return{}}}},methods:{}}},703:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.hideAddButton?e._e():n("router-link",{attrs:{to:"/index/new-form/"+e.model.url+"-"+e.params.status+"/new",exact:""}},[n("el-button",{attrs:{type:"primary",icon:"plus"}},[e._v("新增")])],1)},staticRenderFns:[]}},704:function(e,t,n){var o,r;n(705),o=n(706);var a=n(710);r=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(r=o=o.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,r._scopeId="data-v-a127975c",e.exports=o},705:function(e,t){},706:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(154),a=o(r),s=n(103),i=n(707),u=o(i);t.default={name:"EventHandle",props:{scope:{type:Object,required:!0,default:function(){return{}}},model:{type:Object,required:!0,default:function(){return{}}}},components:{EditEvent:u.default},methods:(0,a.default)({},(0,s.mapMutations)(["setFormMsg"]),{handleEvent:function(e){var t=(e.$index,e.row);this.setFormMsg(t),this.$router.push("/index/event-handle/handle-"+this.model.urlParams.status+"/edit")}})}},707:function(e,t,n){var o,r;o=n(708);var a=n(709);r=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(r=o=o.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,e.exports=o},708:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(154),a=o(r),s=n(103);t.default={name:"EditEvent",props:{scope:{type:Object,required:!0,default:function(){return{}}},model:{type:Object,required:!0,default:function(){return{}}}},methods:(0,a.default)({},(0,s.mapMutations)(["setFormMsg"]),{handleEdit:function(e){var t=(e.$index,e.row);this.setFormMsg(t),this.$router.push("/index/new-form/"+this.model.url+"-"+this.model.urlParams.status+"/edit")}})}},709:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-button",{attrs:{size:"small"},on:{click:function(t){e.handleEdit(e.scope)}}},[e._v("编辑")])],1)},staticRenderFns:[]}},710:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"btns"},[n("edit-event",{attrs:{scope:e.scope,model:e.model}}),e._v(" "),n("div",[n("el-button",{attrs:{size:"small"},on:{click:function(t){e.handleEvent(e.scope)}}},[e._v("处理")])],1)],1)},staticRenderFns:[]}},711:function(e,t,n){var o,r;n(712),o=n(713);var a=n(714);r=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(r=o=o.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,r._scopeId="data-v-099ebc0a",e.exports=o},712:function(e,t){},713:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(154),a=o(r),s=n(103);t.default={name:"EventDetail",props:{scope:{type:Object,required:!0,default:function(){return{}}},model:{type:Object,required:!0,default:function(){return{}}}},methods:(0,a.default)({},(0,s.mapMutations)(["setFormMsg"]),{handleEvent:function(e){var t=(e.$index,e.row);this.setFormMsg(t),this.$router.push("/index/event-progress/progress-"+this.model.urlParams.status+"/edit")}})}},714:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"btns"},[n("div",[n("el-button",{attrs:{size:"small"},on:{click:function(t){e.handleEvent(e.scope)}}},[e._v("查看进度")])],1)])},staticRenderFns:[]}},715:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(716),a=o(r),s=n(719),i=o(s),u=n(722),l=o(u);t.default={user:[{key:"userManage",tab:"用户管理",url:"user",searchPlaceholder:"请输入用户名",hideDeleteButton:!0,typeComponent:[],theads:["用户名","邮箱","状态","角色","注册时间"],protos:["name","email","active","role","created_at"],widths:[50,50,50,50,50],colComponent:{active:a.default,role:l.default,operation:i.default}}]}},716:function(e,t,n){var o,r;o=n(717);var a=n(718);r=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(r=o=o.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,e.exports=o},717:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"Status",props:{scope:{type:Object,required:!0,default:function(){return{}}}}}},718:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(e._s(0==e.scope.row.active?"可用":"禁止"))])},staticRenderFns:[]}},719:function(e,t,n){var o,r;o=n(720);var a=n(721);r=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(r=o=o.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,e.exports=o},720:function(e,t,n){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"Lock",props:{scope:{type:Object,required:!0,default:function(){return{}}},model:{type:Object,required:!0,default:function(){return{}}}},computed:{btnMsg:function(){return 0==this.scope.row.active?"冻结":"解冻"}},methods:{triggleUser:function(){var t=this;e.get(this.$adminUrl("user/triggleUser")+"/"+this.scope.row.id).then(function(e){e.data&&(0==t.scope.row.active?(t.scope.row.active=1,t.$message({message:"冻结成功",type:"success"})):(t.scope.row.active=0,t.$message({message:"解冻成功",type:"success"})))})}}}}).call(t,n(112))},721:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-button",{attrs:{size:"small"},on:{click:e.triggleUser}},[e._v(e._s(e.btnMsg))])],1)},staticRenderFns:[]}},722:function(e,t,n){var o,r;o=n(723);var a=n(724);r=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(r=o=o.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,e.exports=o},723:function(e,t,n){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"Role",props:{scope:{type:Object,required:!0,default:function(){return{}}}},data:function(){return{role:this.scope.row.role}},methods:{change:function(t){var n=this,o={id:this.scope.row.id,role:t};e.post(this.$adminUrl("user/changeRole"),o).then(function(e){n.$message({message:"角色修改成功",type:"success"})})}}}}).call(t,n(112))},724:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-select",{directives:[{name:"model",rawName:"v-model",value:e.role,expression:"role"}],attrs:{size:"small",placeholder:"请选择"},domProps:{value:e.role},on:{change:e.change,input:function(t){e.role=t}}},[n("el-option",{attrs:{label:"管理员",value:0}}),e._v(" "),n("el-option",{attrs:{label:"专家",value:1}}),e._v(" "),n("el-option",{attrs:{label:"应急人员",value:2}})],1)},staticRenderFns:[]}},725:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("basic-model",{ref:"basicModel",attrs:{models:e.models[e.type]}})],1)},staticRenderFns:[]}}});